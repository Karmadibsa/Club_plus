<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Statistiques Admin Club</title>
    <link rel="stylesheet" href="../../css/base/root.css" />
    <link rel="stylesheet" href="../../css/components/sidebar.css" />
    <link
      rel="stylesheet"
      href="../../css/pages/compteadmin/admin_dashboard.css"
    />
    <!-- Lucide icons -->
    <script src="https://cdn.jsdelivr.net/npm/lucide@0.263.0/dist/umd/lucide.min.js"></script>
    <!-- Chart.js pour les graphiques -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Styles pour les modals de confirmation -->
    <style>
      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0, 0, 0, 0.65);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1000;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s, visibility 0.3s;
        backdrop-filter: blur(3px);
      }

      .modal-overlay.show {
        opacity: 1;
        visibility: visible;
      }

      .modal-container {
        background-color: white;
        border-radius: 12px;
        width: 90%;
        max-width: 450px;
        box-shadow: 0 6px 30px rgba(0, 0, 0, 0.2);
        transform: translateY(20px);
        transition: transform 0.3s ease;
        overflow: hidden;
        border: 1px solid rgba(0, 0, 0, 0.08);
      }

      .modal-overlay.show .modal-container {
        transform: translateY(0);
      }

      .modal-header {
        background-color: #f8f8f8;
        padding: 20px 24px;
        border-bottom: 1px solid #eaeaea;
        display: flex;
        align-items: center;
        gap: 16px;
      }

      .modal-header-icon {
        background-color: rgba(231, 76, 60, 0.1);
        color: var(--danger);
        width: 48px;
        height: 48px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .modal-header-icon svg {
        width: 24px;
        height: 24px;
      }

      .modal-content {
        padding: 24px;
      }

      .modal-content h3 {
        margin-top: 0;
        margin-bottom: 16px;
        color: var(--text-dark);
        font-size: 18px;
      }

      .modal-content p {
        margin: 8px 0;
        color: var(--text-medium);
        font-size: 14px;
        line-height: 1.5;
      }

      .modal-content p.warning {
        color: var(--danger);
        font-weight: 500;
      }

      .modal-actions {
        display: flex;
        justify-content: flex-end;
        gap: 12px;
        margin-top: 24px;
        padding-top: 16px;
        border-top: 1px solid #eaeaea;
      }

      .cancel-btn,
      .confirm-btn {
        padding: 10px 20px;
        border-radius: 6px;
        border: none;
        font-weight: 500;
        cursor: pointer;
        font-size: 14px;
        transition: all 0.2s ease;
      }

      .cancel-btn {
        background-color: #f0f0f0;
        color: var(--text-dark);
      }

      .cancel-btn:hover {
        background-color: #e0e0e0;
      }

      .confirm-btn {
        background-color: var(--danger);
        color: white;
      }

      .confirm-btn:hover {
        background-color: #c0392b;
      }

      @media (max-width: 768px) {
        .modal-container {
          width: 95%;
        }

        .modal-actions {
          flex-direction: column;
        }

        .cancel-btn,
        .confirm-btn {
          width: 100%;
          padding: 12px;
          font-size: 16px;
        }

        .cancel-btn {
          order: 2;
        }

        .confirm-btn {
          order: 1;
        }
      }

      /* Styles pour les boutons d'action */
      .action-btn.view-btn,
      .card-action-btn.view-btn {
        color: var(--main-blue);
        background-color: transparent; /* Fond transparent au lieu de bleuté */
      }

      .action-btn.view-btn:hover,
      .card-action-btn.view-btn:hover {
        background-color: var(--main-blue);
        color: white;
      }

      .view-btn i {
        color: inherit;
      }

      .action-btn-container {
        display: flex;
        gap: 6px;
      }

      /* Spécifique pour mobile - garder le fond bleuté */
      @media (max-width: 768px) {
        .card-action-btn.view-btn {
          background-color: rgba(24, 119, 242, 0.1);
        }
      }
    </style>
  </head>
  <body>
    <!-- Header pour mobile -->
    <header class="mobile-header">
      <div class="logo-container">
        <img
          src="../../assets/images/LogoClubPlussansfond.png"
          alt="Logo Club Plus"
          class="logo"
        />
      </div>
      <div class="mobile-header-right">
        <a
          href="../public/public_connexion.html"
          class="mobile-logout-btn"
          title="Déconnexion"
        >
          <i data-lucide="log-out"></i>
        </a>
      </div>
    </header>

    <div class="main-layout">
      <!-- Sidebar pour la navigation desktop -->
      <div class="sidebar">
        <div class="logo-container">
          <img
            src="../../assets/images/LogoClubPlussansfond.png"
            alt="Logo Club Plus"
            class="logo"
          />
        </div>
        <!-- Sidebar Navigation -->
        <ul class="menu-items">
          <li>
            <a href="reservation_dashboard.html" class="active">
              <i data-lucide="layout-dashboard"></i>
              Dashboard
            </a>
          </li>
          <li>
            <a href="reservation_evenement.html">
              <i data-lucide="calendar"></i>
              Événements
            </a>
          </li>
          <li>
            <a href="reservation_membres.html">
              <i data-lucide="users"></i>
              Membres
            </a>
          </li>
        </ul>
        <div class="sidebar-footer">
          <a
            href="../public/public_connexion.html"
            class="logout-btn"
            title="Déconnexion"
          >
            <i data-lucide="log-out"></i>
          </a>
        </div>
      </div>

      <div class="container-page">
        <div class="stats-container">
          <div class="header">
            <h1>Tableau de Bord Administratif</h1>
            <p>Aperçu des statistiques et performances du club</p>
          </div>

          <div class="stats-grid">
            <div class="stat-card">
              <h3>Membres Totaux</h3>
              <div class="stat-value">248</div>
              <div class="stat-change positive">
                <span>+12% </span>
                <span>depuis le mois dernier</span>
              </div>
            </div>

            <div class="stat-card">
              <h3>Nouveaux Membres</h3>
              <div class="stat-value">32</div>
              <div class="stat-change positive">
                <span>+8% </span>
                <span>sur les 30 derniers jours</span>
              </div>
            </div>

            <div class="stat-card">
              <h3>Taux de Participation</h3>
              <div class="stat-value">78%</div>
              <div class="stat-change positive">
                <span>+5% </span>
                <span>depuis le mois dernier</span>
              </div>
            </div>

            <div class="stat-card">
              <h3>Événements Organisés</h3>
              <div class="stat-value">12</div>
              <div class="stat-change positive">
                <span>+2 </span>
                <span>depuis le mois dernier</span>
              </div>
            </div>
          </div>

          <div class="charts-row">
            <div class="chart-container">
              <h3>Évolution des Adhésions</h3>
              <div class="chart-wrapper">
                <canvas id="membersChart"></canvas>
              </div>
            </div>

            <div class="chart-container">
              <h3>Répartition par Catégorie</h3>
              <div class="chart-wrapper">
                <canvas id="categoryChart"></canvas>
              </div>
            </div>
          </div>

          <div class="members-table">
            <h3>Derniers Membres Inscrits</h3>
            <div class="table-responsive">
              <table>
                <thead>
                  <tr>
                    <th>Nom</th>
                    <th>Date de naissance</th>
                    <th>Date d'inscription</th>
                    <th>Adresse</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Martin Dupont</td>
                    <td>15/06/1985</td>
                    <td>15/04/2023</td>
                    <td>23 rue des Lilas, 75001 Paris</td>
                    <td class="actions-cell">
                      <div class="action-btn-container">
                        <a
                          href="reservation_membre_details.html?id=1"
                          class="action-btn view-btn"
                          title="Voir ce membre"
                        >
                          <i data-lucide="eye"></i>
                        </a>
                        <a
                          href="reservation_editmembre.html?id=1"
                          class="action-btn edit-btn"
                          title="Modifier ce membre"
                        >
                          <i data-lucide="pencil"></i>
                        </a>
                        <button
                          class="action-btn delete-btn"
                          title="Supprimer ce membre"
                          data-member-id="1"
                          data-member-name="Martin Dupont"
                          onclick="openDeleteMemberModal(this)"
                        >
                          <i data-lucide="trash-2"></i>
                        </button>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>Sophie Laurent</td>
                    <td>22/09/1990</td>
                    <td>12/04/2023</td>
                    <td>45 avenue Victor Hugo, 75016 Paris</td>
                    <td class="actions-cell">
                      <div class="action-btn-container">
                        <a
                          href="reservation_membre_details.html?id=2"
                          class="action-btn view-btn"
                          title="Voir ce membre"
                        >
                          <i data-lucide="eye"></i>
                        </a>
                        <a
                          href="reservation_editmembre.html?id=2"
                          class="action-btn edit-btn"
                          title="Modifier ce membre"
                        >
                          <i data-lucide="pencil"></i>
                        </a>
                        <button
                          class="action-btn delete-btn"
                          title="Supprimer ce membre"
                          data-member-id="2"
                          data-member-name="Sophie Laurent"
                          onclick="openDeleteMemberModal(this)"
                        >
                          <i data-lucide="trash-2"></i>
                        </button>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>Thomas Bernard</td>
                    <td>03/12/1978</td>
                    <td>10/04/2023</td>
                    <td>8 rue du Commerce, 75015 Paris</td>
                    <td class="actions-cell">
                      <div class="action-btn-container">
                        <a
                          href="reservation_membre_details.html?id=3"
                          class="action-btn view-btn"
                          title="Voir ce membre"
                        >
                          <i data-lucide="eye"></i>
                        </a>
                        <a
                          href="reservation_editmembre.html?id=3"
                          class="action-btn edit-btn"
                          title="Modifier ce membre"
                        >
                          <i data-lucide="pencil"></i>
                        </a>
                        <button
                          class="action-btn delete-btn"
                          title="Supprimer ce membre"
                          data-member-id="3"
                          data-member-name="Thomas Bernard"
                          onclick="openDeleteMemberModal(this)"
                        >
                          <i data-lucide="trash-2"></i>
                        </button>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>Lucie Moreau</td>
                    <td>17/04/2001</td>
                    <td>08/04/2023</td>
                    <td>12 rue de la Paix, 75002 Paris</td>
                    <td class="actions-cell">
                      <div class="action-btn-container">
                        <a
                          href="reservation_membre_details.html?id=4"
                          class="action-btn view-btn"
                          title="Voir ce membre"
                        >
                          <i data-lucide="eye"></i>
                        </a>
                        <a
                          href="reservation_editmembre.html?id=4"
                          class="action-btn edit-btn"
                          title="Modifier ce membre"
                        >
                          <i data-lucide="pencil"></i>
                        </a>
                        <button
                          class="action-btn delete-btn"
                          title="Supprimer ce membre"
                          data-member-id="4"
                          data-member-name="Lucie Moreau"
                          onclick="openDeleteMemberModal(this)"
                        >
                          <i data-lucide="trash-2"></i>
                        </button>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>Alexandre Petit</td>
                    <td>30/07/1965</td>
                    <td>05/04/2023</td>
                    <td>34 avenue Montaigne, 75008 Paris</td>
                    <td class="actions-cell">
                      <div class="action-btn-container">
                        <a
                          href="reservation_membre_details.html?id=5"
                          class="action-btn view-btn"
                          title="Voir ce membre"
                        >
                          <i data-lucide="eye"></i>
                        </a>
                        <a
                          href="reservation_editmembre.html?id=5"
                          class="action-btn edit-btn"
                          title="Modifier ce membre"
                        >
                          <i data-lucide="pencil"></i>
                        </a>
                        <button
                          class="action-btn delete-btn"
                          title="Supprimer ce membre"
                          data-member-id="5"
                          data-member-name="Alexandre Petit"
                          onclick="openDeleteMemberModal(this)"
                        >
                          <i data-lucide="trash-2"></i>
                        </button>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- Mobile version of the members table -->
            <div class="mobile-members-cards">
              <!-- Member card 1 -->
              <div class="member-card">
                <div class="member-card-header">
                  <h3 class="member-name">Martin Dupont</h3>
                </div>
                <div class="member-card-body">
                  <div class="member-detail">
                    <i data-lucide="calendar"></i>
                    <span>Né le: 15/06/1985</span>
                  </div>
                  <div class="member-detail">
                    <i data-lucide="user-plus"></i>
                    <span>Inscrit le: 15/04/2023</span>
                  </div>
                  <div class="member-detail full-width">
                    <i data-lucide="map-pin"></i>
                    <span>23 rue des Lilas, 75001 Paris</span>
                  </div>
                </div>
                <div class="member-card-actions">
                  <a
                    href="reservation_membre_details.html?id=1"
                    class="card-action-btn view-btn"
                  >
                    <i data-lucide="eye"></i>
                    Voir
                  </a>
                  <a
                    href="reservation_editmembre.html?id=1"
                    class="card-action-btn edit-btn"
                  >
                    <i data-lucide="pencil"></i>
                    Modifier
                  </a>
                  <button
                    class="card-action-btn delete-btn"
                    data-member-id="1"
                    data-member-name="Martin Dupont"
                    onclick="openDeleteMemberModal(this)"
                  >
                    <i data-lucide="trash-2"></i>
                    Supprimer
                  </button>
                </div>
              </div>

              <!-- Member card 2 -->
              <div class="member-card">
                <div class="member-card-header">
                  <h3 class="member-name">Sophie Laurent</h3>
                </div>
                <div class="member-card-body">
                  <div class="member-detail">
                    <i data-lucide="calendar"></i>
                    <span>Née le: 22/09/1990</span>
                  </div>
                  <div class="member-detail">
                    <i data-lucide="user-plus"></i>
                    <span>Inscrite le: 12/04/2023</span>
                  </div>
                  <div class="member-detail full-width">
                    <i data-lucide="map-pin"></i>
                    <span>45 avenue Victor Hugo, 75016 Paris</span>
                  </div>
                </div>
                <div class="member-card-actions">
                  <a
                    href="reservation_membre_details.html?id=2"
                    class="card-action-btn view-btn"
                  >
                    <i data-lucide="eye"></i>
                    Voir
                  </a>
                  <a
                    href="reservation_editmembre.html?id=2"
                    class="card-action-btn edit-btn"
                  >
                    <i data-lucide="pencil"></i>
                    Modifier
                  </a>
                  <button
                    class="card-action-btn delete-btn"
                    data-member-id="2"
                    data-member-name="Sophie Laurent"
                    onclick="openDeleteMemberModal(this)"
                  >
                    <i data-lucide="trash-2"></i>
                    Supprimer
                  </button>
                </div>
              </div>

              <!-- Member card 3 -->
              <div class="member-card">
                <div class="member-card-header">
                  <h3 class="member-name">Thomas Bernard</h3>
                </div>
                <div class="member-card-body">
                  <div class="member-detail">
                    <i data-lucide="calendar"></i>
                    <span>Né le: 03/12/1978</span>
                  </div>
                  <div class="member-detail">
                    <i data-lucide="user-plus"></i>
                    <span>Inscrit le: 10/04/2023</span>
                  </div>
                  <div class="member-detail full-width">
                    <i data-lucide="map-pin"></i>
                    <span>8 rue du Commerce, 75015 Paris</span>
                  </div>
                </div>
                <div class="member-card-actions">
                  <a
                    href="reservation_membre_details.html?id=3"
                    class="card-action-btn view-btn"
                  >
                    <i data-lucide="eye"></i>
                    Voir
                  </a>
                  <a
                    href="reservation_editmembre.html?id=3"
                    class="card-action-btn edit-btn"
                  >
                    <i data-lucide="pencil"></i>
                    Modifier
                  </a>
                  <button
                    class="card-action-btn delete-btn"
                    data-member-id="3"
                    data-member-name="Thomas Bernard"
                    onclick="openDeleteMemberModal(this)"
                  >
                    <i data-lucide="trash-2"></i>
                    Supprimer
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Upcoming Events Table -->
          <div class="upcoming-events-table">
            <h3>Prochains Événements</h3>
            <div class="table-responsive">
              <table>
                <thead>
                  <tr>
                    <th>Nom</th>
                    <th>Date</th>
                    <th>Lieu</th>
                    <th>Participants</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Tournoi de Tennis</td>
                    <td>15/06/2023</td>
                    <td>Courts centraux</td>
                    <td>28 / 32</td>
                    <td class="actions-cell">
                      <div class="action-btn-container">
                        <a
                          href="reservation_evenement_details.html?id=1"
                          class="action-btn view-btn"
                          title="Voir cet événement"
                        >
                          <i data-lucide="eye"></i>
                        </a>
                        <a
                          href="reservation_editevenement.html?id=1"
                          class="action-btn edit-btn"
                          title="Modifier cet événement"
                        >
                          <i data-lucide="pencil"></i>
                        </a>
                        <button
                          class="action-btn delete-btn"
                          title="Supprimer cet événement"
                          data-event-id="1"
                          data-event-name="Tournoi de Tennis"
                          onclick="openDeleteEventModal(this)"
                        >
                          <i data-lucide="trash-2"></i>
                        </button>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>Soirée Gala</td>
                    <td>20/06/2023</td>
                    <td>Grand Hall</td>
                    <td>65 / 100</td>
                    <td class="actions-cell">
                      <div class="action-btn-container">
                        <a
                          href="reservation_evenement_details.html?id=2"
                          class="action-btn view-btn"
                          title="Voir cet événement"
                        >
                          <i data-lucide="eye"></i>
                        </a>
                        <a
                          href="reservation_editevenement.html?id=2"
                          class="action-btn edit-btn"
                          title="Modifier cet événement"
                        >
                          <i data-lucide="pencil"></i>
                        </a>
                        <button
                          class="action-btn delete-btn"
                          title="Supprimer cet événement"
                          data-event-id="2"
                          data-event-name="Soirée Gala"
                          onclick="openDeleteEventModal(this)"
                        >
                          <i data-lucide="trash-2"></i>
                        </button>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>Cours de Natation Avancé</td>
                    <td>25/06/2023</td>
                    <td>Piscine olympique</td>
                    <td>10 / 15</td>
                    <td class="actions-cell">
                      <div class="action-btn-container">
                        <a
                          href="reservation_evenement_details.html?id=3"
                          class="action-btn view-btn"
                          title="Voir cet événement"
                        >
                          <i data-lucide="eye"></i>
                        </a>
                        <a
                          href="reservation_editevenement.html?id=3"
                          class="action-btn edit-btn"
                          title="Modifier cet événement"
                        >
                          <i data-lucide="pencil"></i>
                        </a>
                        <button
                          class="action-btn delete-btn"
                          title="Supprimer cet événement"
                          data-event-id="3"
                          data-event-name="Cours de Natation Avancé"
                          onclick="openDeleteEventModal(this)"
                        >
                          <i data-lucide="trash-2"></i>
                        </button>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>Match de Football Amical</td>
                    <td>02/07/2023</td>
                    <td>Terrain principal</td>
                    <td>22 / 22</td>
                    <td class="actions-cell">
                      <div class="action-btn-container">
                        <a
                          href="reservation_evenement_details.html?id=4"
                          class="action-btn view-btn"
                          title="Voir cet événement"
                        >
                          <i data-lucide="eye"></i>
                        </a>
                        <a
                          href="reservation_editevenement.html?id=4"
                          class="action-btn edit-btn"
                          title="Modifier cet événement"
                        >
                          <i data-lucide="pencil"></i>
                        </a>
                        <button
                          class="action-btn delete-btn"
                          title="Supprimer cet événement"
                          data-event-id="4"
                          data-event-name="Match de Football Amical"
                          onclick="openDeleteEventModal(this)"
                        >
                          <i data-lucide="trash-2"></i>
                        </button>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>Compétition d'Athlétisme</td>
                    <td>15/07/2023</td>
                    <td>Stade municipal</td>
                    <td>35 / 50</td>
                    <td class="actions-cell">
                      <div class="action-btn-container">
                        <a
                          href="reservation_evenement_details.html?id=5"
                          class="action-btn view-btn"
                          title="Voir cet événement"
                        >
                          <i data-lucide="eye"></i>
                        </a>
                        <a
                          href="reservation_editevenement.html?id=5"
                          class="action-btn edit-btn"
                          title="Modifier cet événement"
                        >
                          <i data-lucide="pencil"></i>
                        </a>
                        <button
                          class="action-btn delete-btn"
                          title="Supprimer cet événement"
                          data-event-id="5"
                          data-event-name="Compétition d'Athlétisme"
                          onclick="openDeleteEventModal(this)"
                        >
                          <i data-lucide="trash-2"></i>
                        </button>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- Mobile version of events table -->
            <div class="mobile-events-cards">
              <div class="event-card">
                <div class="event-card-header">
                  <h3 class="event-title">Tournoi de Tennis</h3>
                  <span class="status-upcoming">À venir</span>
                </div>
                <div class="event-card-body">
                  <div class="event-detail">
                    <i data-lucide="calendar"></i>
                    <span>15/06/2023</span>
                  </div>
                  <div class="event-detail">
                    <i data-lucide="clock"></i>
                    <span>14:00 - 18:00</span>
                  </div>
                  <div class="event-detail">
                    <i data-lucide="map-pin"></i>
                    <span>Courts centraux</span>
                  </div>
                  <div class="event-detail">
                    <i data-lucide="users"></i>
                    <span>28 / 32 participants</span>
                  </div>
                </div>
                <div class="event-card-actions">
                  <a
                    href="reservation_evenement_details.html?id=1"
                    class="card-action-btn view-btn"
                  >
                    <i data-lucide="eye"></i>
                    Voir
                  </a>
                  <a
                    href="reservation_editevenement.html?id=1"
                    class="card-action-btn edit-btn"
                  >
                    <i data-lucide="pencil"></i>
                    Modifier
                  </a>
                  <button
                    class="card-action-btn delete-btn"
                    data-event-id="1"
                    data-event-name="Tournoi de Tennis"
                    onclick="openDeleteEventModal(this)"
                  >
                    <i data-lucide="trash-2"></i>
                    Supprimer
                  </button>
                </div>
              </div>

              <!-- Event card 2 -->
              <div class="event-card">
                <div class="event-card-header">
                  <h3 class="event-title">Soirée Gala</h3>
                  <span class="status-upcoming">À venir</span>
                </div>
                <div class="event-card-body">
                  <div class="event-detail">
                    <i data-lucide="calendar"></i>
                    <span>20/06/2023</span>
                  </div>
                  <div class="event-detail">
                    <i data-lucide="clock"></i>
                    <span>19:00 - 23:00</span>
                  </div>
                  <div class="event-detail">
                    <i data-lucide="map-pin"></i>
                    <span>Grand Hall</span>
                  </div>
                  <div class="event-detail">
                    <i data-lucide="users"></i>
                    <span>65 / 100 participants</span>
                  </div>
                </div>
                <div class="event-card-actions">
                  <a
                    href="reservation_evenement_details.html?id=2"
                    class="card-action-btn view-btn"
                  >
                    <i data-lucide="eye"></i>
                    Voir
                  </a>
                  <a
                    href="reservation_editevenement.html?id=2"
                    class="card-action-btn edit-btn"
                  >
                    <i data-lucide="pencil"></i>
                    Modifier
                  </a>
                  <button
                    class="card-action-btn delete-btn"
                    data-event-id="2"
                    data-event-name="Soirée Gala"
                    onclick="openDeleteEventModal(this)"
                  >
                    <i data-lucide="trash-2"></i>
                    Supprimer
                  </button>
                </div>
              </div>

              <!-- Event card 3 -->
              <div class="event-card">
                <div class="event-card-header">
                  <h3 class="event-title">Cours de Natation Avancé</h3>
                  <span class="status-upcoming">À venir</span>
                </div>
                <div class="event-card-body">
                  <div class="event-detail">
                    <i data-lucide="calendar"></i>
                    <span>25/06/2023</span>
                  </div>
                  <div class="event-detail">
                    <i data-lucide="clock"></i>
                    <span>10:00 - 12:00</span>
                  </div>
                  <div class="event-detail">
                    <i data-lucide="map-pin"></i>
                    <span>Piscine olympique</span>
                  </div>
                  <div class="event-detail">
                    <i data-lucide="users"></i>
                    <span>10 / 15 participants</span>
                  </div>
                </div>
                <div class="event-card-actions">
                  <a
                    href="reservation_evenement_details.html?id=3"
                    class="card-action-btn view-btn"
                  >
                    <i data-lucide="eye"></i>
                    Voir
                  </a>
                  <a
                    href="reservation_editevenement.html?id=3"
                    class="card-action-btn edit-btn"
                  >
                    <i data-lucide="pencil"></i>
                    Modifier
                  </a>
                  <button
                    class="card-action-btn delete-btn"
                    data-event-id="3"
                    data-event-name="Cours de Natation Avancé"
                    onclick="openDeleteEventModal(this)"
                  >
                    <i data-lucide="trash-2"></i>
                    Supprimer
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Navigation mobile -->
    <nav class="mobile-nav">
      <a href="reservation_dashboard.html" class="nav-item active">
        <i data-lucide="layout-dashboard"></i>
        <span>Dashboard</span>
      </a>
      <a href="reservation_evenement.html" class="nav-item">
        <i data-lucide="calendar"></i>
        <span>Événements</span>
      </a>
      <a href="reservation_membres.html" class="nav-item">
        <i data-lucide="users"></i>
        <span>Membres</span>
      </a>
    </nav>

    <!-- Modal de confirmation de suppression d'événement -->
    <div class="modal-overlay" id="deleteEventModal">
      <div class="modal-container">
        <div class="modal-header">
          <div class="modal-header-icon">
            <i data-lucide="trash-2"></i>
          </div>
          <h3>Confirmer la suppression</h3>
        </div>
        <div class="modal-content">
          <p>Vous êtes sur le point de supprimer l'événement :</p>
          <p
            id="eventNameToDelete"
            style="font-weight: 600; margin: 10px 0"
          ></p>
          <p class="warning">
            Cette action est irréversible et supprimera toutes les données
            associées à cet événement.
          </p>
          <div class="modal-actions">
            <button id="cancelEventDelete" class="cancel-btn">Annuler</button>
            <button id="confirmEventDelete" class="confirm-btn">
              Supprimer définitivement
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal de confirmation de suppression de membre -->
    <div class="modal-overlay" id="deleteMemberModal">
      <div class="modal-container">
        <div class="modal-header">
          <div class="modal-header-icon">
            <i data-lucide="trash-2"></i>
          </div>
          <h3>Confirmer la suppression</h3>
        </div>
        <div class="modal-content">
          <p>Vous êtes sur le point de supprimer le membre :</p>
          <p
            id="memberNameToDelete"
            style="font-weight: 600; margin: 10px 0"
          ></p>
          <p class="warning">
            Cette action est irréversible et supprimera toutes les données
            associées à ce membre.
          </p>
          <div class="modal-actions">
            <button id="cancelMemberDelete" class="cancel-btn">Annuler</button>
            <button id="confirmMemberDelete" class="confirm-btn">
              Supprimer définitivement
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Initialisation de Lucide avec meilleure gestion d'erreur -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Initialiser les icônes Lucide
        setTimeout(function () {
          if (typeof lucide !== "undefined") {
            lucide.createIcons();
            console.log("Icônes Lucide initialisées avec succès");
          } else {
            console.error("La bibliothèque Lucide n'a pas pu être chargée");
          }
        }, 100);

        // Initialiser les graphiques
        initCharts();

        // Gestion des modals de suppression
        function openDeleteEventModal(button) {
          const eventId = button.getAttribute("data-event-id");
          const eventName = button.getAttribute("data-event-name");
          const modal = document.getElementById("deleteEventModal");
          const eventNameEl = document.getElementById("eventNameToDelete");

          if (eventNameEl) eventNameEl.textContent = eventName;
          if (modal) {
            modal.classList.add("show");
            modal.setAttribute("data-event-id", eventId);
          }
        }

        function openDeleteMemberModal(button) {
          const memberId = button.getAttribute("data-member-id");
          const memberName = button.getAttribute("data-member-name");
          const modal = document.getElementById("deleteMemberModal");
          const memberNameEl = document.getElementById("memberNameToDelete");

          if (memberNameEl) memberNameEl.textContent = memberName;
          if (modal) {
            modal.classList.add("show");
            modal.setAttribute("data-member-id", memberId);
          }
        }

        // Exposer les fonctions au scope global
        window.openDeleteEventModal = openDeleteEventModal;
        window.openDeleteMemberModal = openDeleteMemberModal;

        // Fermeture des modals
        document
          .getElementById("cancelEventDelete")
          .addEventListener("click", function () {
            document
              .getElementById("deleteEventModal")
              .classList.remove("show");
          });

        document
          .getElementById("confirmEventDelete")
          .addEventListener("click", function () {
            const modal = document.getElementById("deleteEventModal");
            const eventId = modal.getAttribute("data-event-id");

            console.log("Suppression de l'événement #" + eventId);
            // Ici le code pour supprimer l'événement (AJAX, etc.)

            // Simuler la suppression en cachant l'élément
            const elements = document.querySelectorAll(
              '[data-event-id="' + eventId + '"]'
            );
            elements.forEach((el) => {
              const row = el.closest("tr");
              const card = el.closest(".event-card");
              if (row) row.style.display = "none";
              if (card) card.style.display = "none";
            });

            modal.classList.remove("show");
          });

        document
          .getElementById("cancelMemberDelete")
          .addEventListener("click", function () {
            document
              .getElementById("deleteMemberModal")
              .classList.remove("show");
          });

        document
          .getElementById("confirmMemberDelete")
          .addEventListener("click", function () {
            const modal = document.getElementById("deleteMemberModal");
            const memberId = modal.getAttribute("data-member-id");

            console.log("Suppression du membre #" + memberId);
            // Ici le code pour supprimer le membre (AJAX, etc.)

            // Simuler la suppression en cachant l'élément
            const elements = document.querySelectorAll(
              '[data-member-id="' + memberId + '"]'
            );
            elements.forEach((el) => {
              const row = el.closest("tr");
              const card = el.closest(".member-card");
              if (row) row.style.display = "none";
              if (card) card.style.display = "none";
            });

            modal.classList.remove("show");
          });

        // Amélioration de la gestion des boutons de vue
        document.querySelectorAll(".view-btn").forEach((viewBtn) => {
          viewBtn.addEventListener("click", function (e) {
            // Ne pas empêcher la navigation par défaut, juste tracer pour débogage
            console.log("Navigation vers détails:", this.getAttribute("href"));
          });
        });
      });

      function initCharts() {
        // Graphique d'évolution des adhésions
        const membersCtx = document
          .getElementById("membersChart")
          .getContext("2d");
        const membersChart = new Chart(membersCtx, {
          type: "line",
          data: {
            labels: [
              "Jan",
              "Fév",
              "Mar",
              "Avr",
              "Mai",
              "Juin",
              "Juil",
              "Août",
              "Sep",
              "Oct",
              "Nov",
              "Déc",
            ],
            datasets: [
              {
                label: "Adhésions 2023",
                data: [
                  185, 190, 210, 215, 220, 225, 228, 230, 235, 238, 242, 248,
                ],
                borderColor: "rgba(24, 119, 242, 1)",
                backgroundColor: "rgba(24, 119, 242, 0.1)",
                borderWidth: 3,
                tension: 0.3,
                fill: true,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                position: "top",
                labels: {
                  boxWidth: 12,
                  font: {
                    family: "Poppins",
                  },
                },
              },
              tooltip: {
                backgroundColor: "rgba(255, 255, 255, 0.8)",
                titleColor: "#333",
                bodyColor: "#666",
                titleFont: {
                  family: "Poppins",
                  size: 14,
                  weight: "bold",
                },
                bodyFont: {
                  family: "Poppins",
                  size: 13,
                },
                padding: 12,
                borderColor: "#ddd",
                borderWidth: 1,
                displayColors: false,
              },
            },
            scales: {
              y: {
                beginAtZero: false,
                min: 180,
                ticks: {
                  font: {
                    family: "Poppins",
                  },
                },
                grid: {
                  drawBorder: false,
                },
              },
              x: {
                ticks: {
                  font: {
                    family: "Poppins",
                  },
                },
                grid: {
                  display: false,
                },
              },
            },
          },
        });

        // Graphique de répartition par catégorie
        const categoryCtx = document
          .getElementById("categoryChart")
          .getContext("2d");
        const categoryChart = new Chart(categoryCtx, {
          type: "doughnut",
          data: {
            labels: ["Seniors", "Juniors", "Cadets", "Vétérans", "Enfants"],
            datasets: [
              {
                data: [40, 25, 15, 12, 8],
                backgroundColor: [
                  "rgba(24, 119, 242, 0.7)", // Bleu (main-blue)
                  "rgba(255, 145, 0, 0.7)", // Orange (main-orange)
                  "rgba(76, 175, 80, 0.7)", // Vert
                  "rgba(156, 39, 176, 0.7)", // Violet
                  "rgba(255, 193, 7, 0.7)", // Jaune
                ],
                borderColor: "#ffffff",
                borderWidth: 2,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                position: "right",
                labels: {
                  boxWidth: 12,
                  padding: 15,
                  font: {
                    family: "Poppins",
                    size: 12,
                  },
                },
              },
              tooltip: {
                backgroundColor: "rgba(255, 255, 255, 0.8)",
                titleColor: "#333",
                bodyColor: "#666",
                titleFont: {
                  family: "Poppins",
                  weight: "bold",
                },
                bodyFont: {
                  family: "Poppins",
                },
                padding: 12,
                borderColor: "#ddd",
                borderWidth: 1,
                callbacks: {
                  label: function (context) {
                    const value = context.raw;
                    const total = context.dataset.data.reduce(
                      (acc, val) => acc + val,
                      0
                    );
                    const percentage = ((value / total) * 100).toFixed(1);
                    return `${context.label}: ${percentage}% (${value})`;
                  },
                },
              },
            },
          },
        });
      }
    </script>
  </body>
</html>
